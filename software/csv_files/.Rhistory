spark_path <- '/opt/spark'
if (nchar(Sys.getenv("SPARK_HOME")) < 1) {
Sys.setenv(SPARK_HOME = spark_path)
}
library(SparkR, lib.loc = c(file.path(Sys.getenv("SPARK_HOME"), "R", "lib")))
sparkR.session(master = "local[*]", sparkConfig = list(spark.driver.memory = "2g"))
library('magrittr')
library('ggplot2')
df <- as.DataFrame(mtcars)
model <- glm(mpg ~ wt, data = df, family = "gaussian")
summary(model)
predictions <- predict(model, newData = df)
class(predictions)
predictions %>%
select("wt", "mpg", "prediction") %>%
collect %>%
ggplot() + geom_point(aes(wt, prediction - mpg))  +
geom_hline(yintercept=0) + theme_bw()
spark_path <- '/opt/spark'
if (nchar(Sys.getenv("SPARK_HOME")) < 1) {
Sys.setenv(SPARK_HOME = spark_path)
}
library(SparkR, lib.loc = c(file.path(Sys.getenv("SPARK_HOME"), "R", "lib")))
sparkR.session(master = "local[*]", sparkConfig = list(spark.driver.memory = "2g"))
library('magrittr')
library('ggplot2')
# df <- as.DataFrame(mtcars)
# model <- glm(mpg ~ wt, data = df, family = "gaussian")
# summary(model)
setwd("/home/d3jota/UFRPE/BSI/TCC/tcc_bsi_ufrpe/software/csv_files/")
data <- read.df("filtered0010-consumo_agregado.csv", "csv", header="true", inferSchema="true", na.strings="NA")
spark_path <- '/opt/spark'
if (nchar(Sys.getenv("SPARK_HOME")) < 1) {
Sys.setenv(SPARK_HOME = spark_path)
}
library(SparkR, lib.loc = c(file.path(Sys.getenv("SPARK_HOME"), "R", "lib")))
sparkR.session(master = "local[*]", sparkConfig = list(spark.driver.memory = "2g"))
library('magrittr')
library('ggplot2')
# df <- as.DataFrame(mtcars)
# model <- glm(mpg ~ wt, data = df, family = "gaussian")
# summary(model)
data <- read.df("/home/d3jota/UFRPE/BSI/TCC/tcc_bsi_ufrpe/software/csv_files/filtered0010-consumo_agregado.csv", "csv", header="true", inferSchema="true", na.strings="NA")
# predictions <- predict(model, newData = df)
# class(predictions)
#
# predictions %>%
# select("wt", "mpg", "prediction") %>%
# collect %>%
# ggplot() + geom_point(aes(wt, prediction - mpg))  +
# geom_hline(yintercept=0) + theme_bw()
source('~/UFRPE/BSI/TCC/teste_R_spark.r', echo=TRUE)
spark_path <- '/opt/spark'
if (nchar(Sys.getenv("SPARK_HOME")) < 1) {
Sys.setenv(SPARK_HOME = spark_path)
}
library(SparkR, lib.loc = c(file.path(Sys.getenv("SPARK_HOME"), "R", "lib")))
sparkR.session(master = "local[*]", sparkConfig = list(spark.driver.memory = "2g"))
library('magrittr')
library('ggplot2')
# df <- as.DataFrame(mtcars)
# model <- glm(mpg ~ wt, data = df, family = "gaussian")
# summary(model)
data <- read.df("/home/d3jota/UFRPE/BSI/TCC/tcc_bsi_ufrpe/software/csv_files/filtered0010-consumo_agregado.csv", "csv", header="true", inferSchema="true", na.strings="NA")
head(summarize(groupBy(data, data$V2), count = n(data$V2)))
install.packages("sparklyr")
install.packages("httr")
install.packages("xml2")
install.packages("xml2")
install.packages("openssl")
install.packages("openssl")
install.packages("sparklyr")
library(sparklyr)
library(tidyverse)
sc <- sparklyr::spark_connect(master = "local",
spark_home = "/opt/spark/")
install.packages("tidyverse")
library(sparklyr)
library(tidyverse)
sc <- sparklyr::spark_connect(master = "local",
spark_home = "/opt/spark")
